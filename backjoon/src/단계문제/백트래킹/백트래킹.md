## 백트래킹이란?

---

백트래킹은 해를 찾는 도중에 막히면 더 이상 깊이 들어가지 않고, 이전 단계로 되돌아가서 해를 찾는 기법이다.

- 최적화 문제와 결정 문제를 푸는 방법이 된다.

## DFS vs 백트래킹

---

### DFS란?

DFS는 모든 경로를 탐색하지만, 불필요한 경로를 사전에 차단하지 않아 경우의 수를 최적으로 줄이지 못한다.

- 때문에 N!의 경우의 수를 갖는 문제는 DFS로 처리하지 못할 가능성이 매우 크다.

### 백트래킹

백트래킹은 해를 찾는 도중 해당 경로가 해가 될 거 같지 않으면, 다시 이전 단계로 되돌아간다.

- 이를 불필요한 부분을 쳐내고 최대한 올바른 방향으로 나아가는 방식이라 가지치기라고도 한다.
- DFS보단 효율적이지만, N! 경우의 수를 갖는 최악의 문제는 시간복잡도가 걸려 처리하지 못할 수 있다.

정리하면, 백트래킹은 가능한 모든 경우의 수 중에서 특정 조건을 만족하는 경우만 살펴보는 것이다.

- 즉, 답이 될 가능성이 없다면 더 이상 탐색을 진행하지 않고 가지치기를 하면서 최적해를 구하는 방식이다.

문제 풀이의 경우, DFS 등으로 경우의 수를 탐색하다 조건문을 걸어 답이 될 수 없는 상황을 정의한다.

- 이럴 때 탐색을 중지시킨 뒤 다시 이전 단계로 되돌아가서 다른 경우의 수를 탐색하도록 구현한다.

## 백트래킹 구현 방법

---

예를 들어, N개 중 순서를 고려하지 않고 R개를 선택하는 조합 코드를 살펴보자.

- DFS로 깊이 있게 탐색하다가 R개를 모두 선택한 경우에는 현재 가지에 대한 탐색을 종료한다.
- 그리고 다음 경우의 수 탐색을 위해 상태를 복구하고 다시 재귀 호출을 반복한다.

```java
void DFS(int cnt, int idx) { // 현재까지의 결과, 탐색을 진행할 인덱스 
	// R개를 선택한 경우 
	if(cnt == r) { 
    	// 결과 처리 후 현재 가지에 대한 탐색 종료 
        return; 
    }
    
  // R개를 선택하지 않은 경우 재귀 호출 반복 
	for(int i = idx; i < n; i++) { 
		if(!selected[i]) {
			selected[i] = true; // 상태 변화 
			dfs(cnt + 1, i); // 재귀 호출
			selected[i] = false; // 다음 경우의 수를 위해 상태 복구 
		}
  }
}
```
### 참고 자료
- [백트래킹이란?](https://velog.io/@jxlhe46/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98-%EB%B0%B1%ED%8A%B8%EB%9E%98%ED%82%B9-Back-tracking)
